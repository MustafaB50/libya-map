<style>
    /* إضافة شكل عداد الوقود */
    .fuel-container {
        width: 100%; background-color: #ddd; border-radius: 5px; margin-top: 10px;
    }
    .fuel-bar {
        height: 20px; text-align: center; line-height: 20px; color: white;
        border-radius: 5px; transition: width 0.5s; font-size: 12px;
    }
    .status-badge {
        padding: 5px; border-radius: 3px; font-weight: bold; font-size: 0.8rem;
    }
</style>

<script>
    // تحديث البيانات لتشمل منسوب الوقود (كمثال من الحساسات)
    var stations = [
        { city: "طرابلس", name: "محطة زاوية الدهماني", lat: 32.895, lng: 13.195, level: 85 },
        { city: "بنغازي", name: "محطة الفويهات", lat: 32.116, lng: 20.066, level: 15 }
    ];

    function updateHeader(city, station, level) {
        document.getElementById('city-name').innerText = city;
        // تحديد لون العداد بناءً على المستوى
        let color = level > 50 ? '#4CAF50' : (level > 20 ? '#FFC107' : '#F44336');
        let statusText = level > 20 ? "متوفر" : "شبه فارغ";
        
        document.getElementById('station-name').innerHTML = `
            ${station} | <span class="status-badge" style="background:${color}">${statusText}</span>
            <div class="fuel-container">
                <div class="fuel-bar" style="width: ${level}%; background-color: ${color};">
                    المستوى: ${level}%
                </div>
            </div>
        `;
    }

    stations.forEach(function(s) {
        var marker = L.marker([s.lat, s.lng]).addTo(map);
        marker.on('click', function() {
            updateHeader(s.city, s.name, s.level);
        });
    });
</script>
